<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Kotlin上手]]></title>
    <url>%2F2017%2F06%2F23%2Flog04%2F</url>
    <content type="text"><![CDATA[命运·梦想·抉择 —我并不想放弃不过多一条路不是不好呵呵❤ 快速上手kotlin 今年的谷歌IO大会上谷歌正式将Kotlin定为谷歌的官方语言,并且AndroidStudio已经对Kotlin完全支持.今天就分享一篇文章来了解一下Kotlin 用 Kotlin 怎么写” 的问题，作为有经验的程序员，我们已经掌握了一门或者多门语言，那么学 Kotlin 的时候就经常会有类似 “ ‘再见’用日语怎么说？”、“ ‘你好’ 用西班牙语怎么说？” 的问题，所以我决定把一些常用的语法对照列举出来，如果大家熟悉 Java，那么快速上手 Kotlin 会变得非常地容易。 这篇文章主要是写给需要快速上手 Kotlin 的 Java 程序员看的，这时候他们关注的是如何 Kotlin 写出类似某些 Java 的写法，所以本文基本不涉及 Kotlin 的高级特性。 1. 如何定义变量 Java 定义变量的写法： 1String string = &quot;Hello&quot;; 基本等价的 Kotlin 定义变量的写法： 1var string: String = &quot;Hello&quot; Java 定义 final 变量的写法： 1final String string = &quot;Hello&quot;; 注意到前面的是一个编译期常量，Kotlin 当中应该这么写： 1const val string: String = &quot;Hello&quot; 同样是 final 变量，Java 这么写： 1final String string = getString(); 注意到，这个不是编译期常量，Kotlin 这么写： 1val string: String = getString() 另外， Kotlin 有类型推导的特性，因此上述变量定义基本上都可以省略掉类型 String。 2. 如何定义函数Java 当中如何定义函数，也就是方法，需要定义到一个类当中： 123public boolean testString(String name)&#123; ...&#125; 等价的 Kotlin 写法： 123fun testString(name: String): Boolean &#123; ...&#125; 注意到返回值的位置放到了参数之后。 3. 如何定义静态变量、方法Java 的静态方法或者变量只需要加一个 static 即可： 123456789public class Singleton&#123; private static Singleton instance = ...; public static Singleton getInstance()&#123; ... return instance; &#125;&#125; 用 Kotlin 直译过来就是： 1234567891011class KotlinSingleton&#123; companion object&#123; private val kotlinSingleton = KotlinSingleton() @JvmStatic fun getInstance() = kotlinSingleton &#125;&#125; 注意 getInstance 的写法。 JvmStatic 这个注解会将 getInstance 这个方法编译成与 Java 的静态方法一样的签名，如果不加这个注解，Java 当中无法像调用 Java 静态方法那样调用这个方法。 另外，对于静态方法、变量的场景，在 Kotlin 当中建议使用包级函数。 4. 如何定义数组Java 的数组非常简单，当然也有些抽象，毕竟是编译期生成的类： 123String[] names = new String[]&#123;&quot;Kyo&quot;, &quot;Ryu&quot;, &quot;Iory&quot;&#125;; String[] emptyStrings = new String[10]; Kotlin 的数组其实更真实一些，看上去更让人容易理解： 123val names: Array&lt;String&gt; = arrayOf(&quot;Kyo&quot;, &quot;Ryu&quot;, &quot;Iory&quot;) val emptyStrings: Array&lt;String?&gt; = arrayOfNulls(10) 注意到，ArrayT 即数组元素的类型。另外，String? 表示可以为 null 的 String 类型。 数组的使用基本一致。需要注意的是，为了避免装箱和拆箱的开销，Kotlin 对基本类型包括 Int、Short、Byte、Long、Float、Double、Char 等基本类型提供了定制版数组类型，写法为 XArray，例如 Int 的定制版数组为 IntArray，如果我们要定义一个整型数组，写法如下： 1val ints = intArrayOf(1, 3, 5) 5. 如何写变长参数Java 的变长参数写法如下： 123void hello(String... names)&#123; ...&#125; Kotlin 的变长参数写法如下： 123fun hello(vararg names: String)&#123; &#125; 6. 如何写三元运算符Java 可以写三元运算符： 1int code = isSuccessfully? 200: 400; 很多人抱怨 Kotlin 为什么没有这个运算符。。。据说是因为 Kotlin 当中 : 使用的场景比 Java 复杂得多，因此如果加上这个三元运算符的话，会给语法解析器带来较多的麻烦，Scala 也是类似的情况。那么这中情况下，我们用 Kotlin 该怎么写呢？ 1int code = if(isSuccessfully) 200 else 400 注意到，if else 这样的语句也是表达式，这一点与 Java 不同。 7. 如何写 main 函数Java 的写法只有一种： 123456class Main&#123; public static void main(String... args)&#123; ... &#125;&#125; 注意到参数可以是变长参数或者数组，这二者都可。 对应 Kotlin，main 函数的写法如下： 1234567891011class KotlinMain&#123; companion object&#123; @JvmStatic fun main(args: Array&lt;String&gt;) &#123; &#125; &#125;&#125; Kotlin 可以有包级函数，因此我们并不需要声明一个类来包装 main 函数： 123fun main(args: Array&lt;String&gt;)&#123; ...&#125; 8. 如何实例化类Java 和 C++ 这样的语言，在构造对象的时候经常需要用到 new 这个关键字，比如： 1Date date = new Date(); Kotlin 构造对象时，不需要 new 这个关键字，所以上述写法等价于： 1val date = Date() 9. 如何写 Getter 和 Setter 方法Java 的 Getter 和 Setter 是一种约定俗称，而不是语法特性，所以定义起来相对自由： 12345678910111213public class GetterAndSetter&#123; private int x = 0; public int getX() &#123; return x; &#125; public void setX(int x) &#123; this.x = x; &#125;&#125; Kotlin 是有属性的： 12345678class KotlinGetterAndSetter&#123; var x: Int = 0 set(value) &#123; field = value &#125; get() = field&#125; 注意看到，我们为 x 显式定义了 getter 和 setter，field 是 x 背后真正的变量，所以 setter 当中其实就是为 field 赋值，而 getter 则是返回 field。如果你想要对 x 的访问做控制，那么你就可以通过自定义 getter 和 setter 来实现了： 1234567891011121314151617181920212223242526272829class KotlinGetterAndSetter&#123; var x: Int = 0 set(value) &#123; val date = Calendar.getInstance().apply &#123; set(2017, 2, 18) &#125; if(System.currentTimeMillis() &lt; date.timeInMillis)&#123; println(&quot;Cannot be set before 2017.3.18&quot;) &#125;else&#123; field = value &#125; &#125; get()&#123; println(&quot;Get field x: $field&quot;) return field &#125; &#125; 10. 如何延迟初始化成员变量Java 定义的类成员变量如果不初始化，那么基本类型被初始化为其默认值，比如 int 初始化为 0，boolean 初始化为 false，非基本类型的成员则会被初始化为 null。 12345public class Hello&#123; private String name; &#125; 类似的代码在 Kotlin 当中直译为： 12345class Hello&#123; private var name: String? = null &#125; 使用了可空类型，副作用就是后面每次你想要用 name 的时候，都需要判断其是否为 null。如果不使用可控类型，需要加 lateinit 关键字： 12345class Hello&#123; private lateinit var name: String &#125; lateinit 是用来告诉编译器，name 这个变量后续会妥善处置的。 对于 final 的成员变量，Java 要求它们必须在构造方法或者构造块当中对他们进行初始化： 12345public class Hello&#123; private final String name = &quot;Peter&quot;; &#125; 也就是说，如果我要想定义一个可以延迟到一定实际再使用并初始化的 final 变量，这在 Java 中是做不到的。 Kotlin 有办法，使用 lazy 这个 delegate 即可： 12345678class Hello&#123; private val name by lazy&#123; NameProvider.getName() &#125;&#125; 只有使用到 name 这个属性的时候，lazy 后面的 Lambda 才会执行，name 的值才会真正计算出来。 11. 如何获得 class 的实例Java 当中： 12345678910public class Hello&#123; ...&#125;... Class&lt;?&gt; clazz = Hello.class; Hello hello = new Hello(); Class&lt;?&gt; clazz2 = hello.getClass(); 前面我们展示了两种获得 class 的途径，一种直接用类名，一种通过类实例。刚刚接触 Kotlin 的时候，获取 Java Class 的方法却是容易让人困惑。 同样效果的 Kotlin 代码看上去确实很奇怪，实际上 Hello::class 拿到的是 Kotlin 的 KClass，这个是 Kotlin 的类型，如果想要拿到 Java 的 Class 实例，那么就需要前面的办法了。 123class Helloval clazz = Hello::class.javaval hello = Hello() val clazz2 = hello.javaClass 12. 如何使使用单例模式Java 当中： （建议使用） 1234567891011121314151617181920212223/*** Created by yangc on 2017/6/9.* E-Mail:yangchaojiang@outlook.com* Deprecated: 定义一个私有的内部类，在第一次用这个嵌套类时，会创建一个实例。* 而类型为SingletonHolder的类，只有在Singleton.getInstance()中调用，* 由于私有的属性，他人无法使用SingleHolder，不* 调用Singleton.getInstance()就不会创建实例。* 优点：达到了lazy loading的效果，即按需创建实例*/ public class UserSingle &#123; static UserSingle getInstance() &#123;return Holder.userSingle;&#125;// 定义一个私有的构造方法private UserSingle() &#123;&#125; private static class Holder &#123;static final UserSingle userSingle = new UserSingle();&#125;&#125; Kotlin 中： 关键字 object 这个类属于单例 1234567891011121314class UserSingle private constructor() &#123; companion object &#123;@JvmStatic //java 访问fun getInstance(): UserSingle &#123;return Holder.instance&#125;&#125; private object Holder &#123;val instance = UserSingle()&#125; &#125; 单例模式 生对象更多的用途是用来创建一个单例类。 如果只是简单的写，直接用伴生对象返回一个 val 修饰的外部类对象就可以了， 但是更多的时候我们希望在类被调用的时候才去初始化他的对象。 以下代码将线程安全问题交给虚拟机在静态内部类加载时处理，是一种推荐的写 13. 如何使使用回调函数Java 当中： 123456789101112textView.setOnClickListener(new View.OnClickListener() &#123;@Overridepublic void onClick(View v) &#123; &#125;&#125;);textView.setOnLongClickListener(new View.OnLongClickListener() &#123;@Overridepublic boolean onLongClick(View v) &#123;return false;&#125;&#125;); Kotlin 中： 12345678910111213//不使用参数 返回voidbtnWrite.setOnClickListener &#123; fileWrite() &#125;//使用参数 返回voidbtnWrite.setOnClickListener &#123;view-&gt;fileWrite(c.getid()&#125;//使用参数 返回voidbtnWrite.setOnClickListener &#123;view-&gt;fileWrite(c.getid()true&#125; 在 kotlin 使用lambda 表达式，不用new 匿名内部类进行回调 {}括号中，直接添加代码]]></content>
      <categories>
        <category>Android, Kotlin</category>
      </categories>
      <tags>
        <tag>博客日志</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[我们站在世界的同一边]]></title>
    <url>%2F2017%2F06%2F22%2Flog03%2F</url>
    <content type="text"><![CDATA[养成一个良好的习惯就是每天跟新一篇博客妈的说不下去了❤ 懒癌晚期了今天差点断更了,哈哈一整天躺在床上一动未动. 外面下了一整天雨,心情无感.就是挺热的 北京的夏天就是闷热在家里好累啊. 又没投简历….没信心额…]]></content>
      <categories>
        <category>博客日志</category>
      </categories>
      <tags>
        <tag>博客日志</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[写给过去和未来的一封信]]></title>
    <url>%2F2017%2F06%2F21%2Flgo02%2F</url>
    <content type="text"><![CDATA[如果时光倒流回四年前不知道那是的我看了会不会流泪,&nbsp; 如果不行那多年以后我自己看了会不会笑出来呢?–致那个女孩❤ 我叫黄雷今年21岁,来自山西朔州木塔之乡 - 应县. 毕业于山西工程职业技术学院, 一所在冶金方面很”有名” 的大专院校,的计算机系 软件技术专业. 毕业季来临,随着传智播客培训的结束 我才恍然意识到我的学生生涯就此结束了 呵呵,真快,猝不及防. 对于未知的社会说实话没有做好准备,挺可怕的. 面对自己推掉的那5 6家面试机会才发现我又怂了就和3年前的这个时候一样我怂了,呵呵 我是个男人! 高二, 文理分科, 我们班级由于挨着实验班每天几个兄弟班级和实验班的”大佬”们飚纪检考核分. 每天红榜上前名永远是我们几个班. 每个月几百分的大数字,班主任每次看到后来我分到的那个班级每个月区区个位数的考核分屡次摇头叹息. 我带过的班级从来没有被扣过如此多的分.后来由于分班老人家不教书了,挺对不起他的虽然我没扣过几分. 分班后我进了教师阵容仅次于实验班的一个班级,老师个个是王者水平. 由于我本人比较淘,虽然我性格内向但是我和周围人玩的很high 啊 . 什么上语文课吹泡泡啊~ 疑似早恋啊(麻蛋都特么高二 了早恋你妹啊!! 这就是重点圈起来 &nbsp; 哈哈)~ 什么早读和同桌唱歌啦. 虽然都是什么小事,但是对于”打人不眨眼的”严厉新班主任来说已经很严重了.奇怪的是他重来没动过我可能是因为我生物成绩在任何情况下都名列前茅吧(他是生物老师) … 然并卵 就是因为分班的原因我遇到了那个在我心里挥之不去的姑娘 , 知道现在才发现我成熟的是有点晚哈 .都特么高二了才看上一个妹子…惭愧惭愧. 当时她就在我座位前面,也是分班来的,刚刚分了班级就放了暑假也没有太注意她,后开开学了渐渐注意到她,而且她比我大生日还是我生日的后一天.感觉这就是缘分吗?感觉她好美,呃~中邪了从此以后我便无法自拔. 可是没过多久我就发现她和隔壁班的那个男生走的特别近,一打听才知道她们在原来班级就挺好的但是她也不说那是她男朋友. 嘿`那我就不管了我就要追谁让你们不确定关系呢. 现在呢我只想说MDZZ. 可那是根本没有什么备胎啊什么的概念只是每天见到她就是很开心,所以我就经常逗她开心,她也没有拒绝我. 就这样我足足暗恋了他一年. 在高三的圣诞节我给她包了一个大大礼盒写了个狗屁不通的”情书” 向他表了白然后她又没有拒绝我. 妈的我居然天真的以为我恋爱了?? 哈哈天真, 就这样稀里糊涂加上搞不清关系还有我怂了. 很快 毕业了, 很明显我又二逼了 , 高考结束分数下来了很显然我落榜了…(意料之中 ) 然后没错她也落榜了,那几天不知道听谁说的说是什么网上填自愿挺麻烦的结果我就自己投了一个计算机专业,美滋滋的准备”追梦”了,我居然没和她交流一下心得结果她去了长春,我留在了山西.直到志愿填完我才意识到自己错过了什么. 整个大一我都很懊悔为什么我没有追随她,一起去长春,同时又庆幸自己学了计算机. 大一快结束的时候他说他找了男朋友了是数学系, 她说她不等了. 当时我整个人都是懵的, 可能是因为没有感情基础加上离得太远我真的无能为力. 作为一个内向的低情商,还不懂如何和一个女孩子交往直男从填下志愿的那一刻起仿佛就缘灭了,后来她又找了一个男孩子.我感觉他挺好的,她的动态我也一直在关注,她很幸福^.^ 有时候也祝福过,有时候也心痛过,说实话真的我是一个比较冷漠的人对一个女孩子我居然会心痛. 真的有时候真的痛. 有时候总是想和她说些什么却欲言又止,毕竟她有了新的生活 一个人飘在北京,没人陪伴,没有工作,站在昌平租的房子里看着窗外霓虹, 看着忙碌的人群,天上闪着信号灯的飞机,一时间百感交集,现在我21岁,现在的我一无所有. 2017.6.21 – 北京 new APlayer({ element: document.getElementById("aplayer0"), narrow: false, autoplay: true, showlrc: 0, music: { title: "温柔乡", author: "陈雅森", url: "http://wp.hl262.top/Music/%E9%99%88%E9%9B%85%E6%A3%AE%20-%20%E6%B8%A9%E6%9F%94%E4%B9%A1.mp3", pic: "", } });]]></content>
      <categories>
        <category>博客日志</category>
      </categories>
      <tags>
        <tag>博客日志</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[养成一个好的习惯从每天更新一篇博客日志开始]]></title>
    <url>%2F2017%2F06%2F20%2Flog01%2F</url>
    <content type="text"><![CDATA[养成一个好的习惯从每天更新一篇博客日志开始我自己说的 对于一个程序员来说总结归纳的能力是很有用的, 所以从今往后每天更新自己的博客来发表发表心情提高自己的总结归纳能力.养成一个良好的习惯 2017.6.20 – 北京]]></content>
      <categories>
        <category>博客日志</category>
      </categories>
      <tags>
        <tag>博客日志</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用GitHub + Hexo搭建个人博客]]></title>
    <url>%2F2017%2F06%2F16%2FUseGitHub-HexoSetUpYouSelfBlog%2F</url>
    <content type="text"><![CDATA[生活是一面镜子。你对它笑，它就对你笑；你对它哭，它也对你哭。某名人-_-# 琢磨了一天终于一脸懵逼地用Hexo把新博客搭建起来了,在这里分享一下搭建的过程和遇到的一些问题接下来就是showTime 据本人了解Hexo原理是通过node.js把 Markdown格式的文本转化为静态页面,通过git上传到自己的GitHub pages项目上面 首先安装环境 1 .安装node.js (用于生成静态页面) 前往node.js官网下载对应pc的版本进行安装 2 .安装Git (用来push文件到GitHub) 同理上官网下载对应版本进行安装 3 .注册GitHub账号用来创建仓库 你懂得 接下来进行Hexo的安装 安装Hexo 在磁盘创建文件夹用来存放生成的博客文件 进入文件夹Shift + 鼠标右键 , 选择在此处打开cmd(此处省略若干cmd代码) 输入如下代码进行Hexo安装 1npm install -g hexo 成功后输入如下代码对Hexo进行初始化 1hexo init 初始化完成后博客文件就生成到创建的文件夹中Hexo安装完成 编译静态页面 1hexo g 启动本地服务进行调试,或者进入debug模式 123hexo shexo s --debug(调试模式) 如果没有报错并且访问http://localhost:4000成功则大功告成了 一半! GitHub创建仓库 注册并登陆GitHub后右上角点击加号选择 New repository 仓库名为:yourName.github.io (网上文章都说是必须填你的用户名) 点击创建,现在的仓库创建OK 接下来将生成的Hexo与GitHub仓库进行关联 在创建的文件夹(博客)根目录使用文本编辑器打开_config.yml配置文件 在文件最下面的部分修改为如下代码并保存 1234567deploy: type: git repo: https://github.com/你的用户名/你的用户名.github.io.git branch: master 然后执行命令： 1npm install hexo-deployer-git --save 然后输入配置命令 1hexo d 将博客推到仓库中 第一次会弹出GitHub登陆 最后访问 你的用户名.github.io访问博客 每次有博客更新使用 1hexo d -g 编译并上传 Hexo的基本使用 创建新的文章 12hexo new &quot;postName&quot;#文章名不要用中文不然会无法提交 创建新页面 12hexo new page &quot;PageName&quot;#创建后会在根目录/source/目录下出现所创建的页面的文件夹里面是一个md文档,像编辑Html编辑就可以 最后 本文参考简书作者作 潘柏信 及CSDNgdutxiaoxu的两篇文章]]></content>
      <categories>
        <category>网络</category>
      </categories>
      <tags>
        <tag>博客搭建</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android资料库]]></title>
    <url>%2F2017%2F06%2F16%2FDocLib%2F</url>
    <content type="text"><![CDATA[基础知识 Java代码中的面向对象 JDK 1.8 Lambda表达式 组件 Activity Activity生命周期及启动模式介绍 Activity之间的值传递 Activity的加载模式 控件使用 FragmentTabHost(相当于ViewPager的TabLayout) DrawerLayout 安卓自带侧拉菜单 进阶知识 消息机制 Handler AsyncTask异步任务 TCP/IP - 阿里中间件技术博客 Android中的第三方图片加载库 设计模式 单例模式 单例的七种写法 事件分发机制详解 事件分发(郭霖) Android动画机制详解(徐宜生) Android5.0 &amp; 6.0 新增控件 - 来自CSDN Android中样式类Span操作富文本 第三方SDK及开源框架 开源框架 网络框架 Retrofit 图片加载框架 进程间通信 数据库框架 MM]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>知识库</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[利用子域名在虚拟主机中]]></title>
    <url>%2F2017%2F06%2F15%2FWordpressChildWebSite%2F</url>
    <content type="text"><![CDATA[使用的产品:本文使用的是阿里云的Web 弹性托管 暂时没有测试数据库的问题 实现步骤: 在已备案的域名下添加子域名解析 在弹性微博托管控制台添加域名绑定 使用FTP工具在网站根目录创名为test的建子文件夹,并上传网站文件到目录 创建文本文件内容如下 12345RewriteEngine OnRewriteCond %&#123;HTTP_HOST&#125; ^(www.)?test.hl262.top$RewriteRule ^(/)?$ test [L] ​ 上传文件到网站根目录并改名为.htaccess 访问子域名test.hl262.top成功如下图]]></content>
      <tags>
        <tag>子域名</tag>
      </tags>
  </entry>
</search>